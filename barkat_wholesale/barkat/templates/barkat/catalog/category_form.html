{# templates/barkat/catalog/category_form.html #} {% extends "base.html" %} {%
load static %} {% block content %}
<div class="p-4 md:p-6">
  <div class="flex items-center justify-between mb-4">
    <div>
      <h1 class="text-xl font-semibold">
        {{ form.instance.pk|yesno:"Edit Category,New Category" }}
      </h1>
      <p class="text-sm text-slate-500">
        Manage product categories by business. Parent is optional.
      </p>
    </div>
    <a
      href="{% url 'product_categories' %}"
      class="rounded-lg px-3 py-2 bg-slate-100 hover:bg-slate-200"
      >‚Üê Back</a
    >
  </div>

  {# non-field errors render fine without a conditional #}
  {{form.non_field_errors }}

  <div class="rounded-xl border border-slate-200 bg-white p-4 md:p-6">
    <form method="post" novalidate>
      {% csrf_token %}

      <div class="grid gap-4 md:grid-cols-2">
        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">
            {{ form.business.label }} <span class="text-rose-500">*</span>
          </label>
          {{ form.business }} {{ form.business.errors }}
        </div>

        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">
            {{ form.parent.label }}
          </label>
          {{ form.parent }} {{ form.parent.errors }}
        </div>

        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">
            {{ form.name.label }} <span class="text-rose-500">*</span>
          </label>
          {{ form.name }} {{ form.name.errors }}
        </div>

        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">
            {{ form.code.label }}
          </label>
          {{ form.code }} {{ form.code.errors }}
        </div>
      </div>

      <div class="mt-6 flex items-center justify-end gap-2">
        <a
          href="{% url 'product_categories' %}"
          class="rounded-lg px-3 py-2 bg-slate-100 hover:bg-slate-200"
          >Cancel</a
        >
        <button
          type="submit"
          class="rounded-lg px-3 py-2 bg-emerald-600 text-white hover:bg-emerald-500"
        >
          {{ form.instance.pk|yesno:"Save Changes,Create Category" }}
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
