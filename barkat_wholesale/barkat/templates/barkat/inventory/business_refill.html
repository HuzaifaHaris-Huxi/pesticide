{# templates/barkat/inventory/business_refill.html #}
{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="max-w-6xl mx-auto p-6">
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-2xl font-semibold">Refill â€” {{ business.name }}</h1>
    <a href="{% url 'business_stock_status' business.id %}" class="text-slate-700 hover:underline">Back</a>
  </div>

  <form method="post" class="space-y-4">
    {% csrf_token %}

    <div class="bg-white p-4 rounded-xl border border-slate-200">
      <div class="grid md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm mb-1">Reference (optional)</label>
          <input type="text" name="reference" class="w-full rounded-lg border border-slate-300 bg-white px-3 py-2">
        </div>
      </div>
    </div>

    <div class="bg-white p-4 rounded-xl border border-slate-200 overflow-x-auto">
      <table class="min-w-full text-sm">
        <thead class="bg-slate-50">
          <tr>
            <th class="px-4 py-2 text-left">Product</th>
            <th class="px-4 py-2 text-left">SKU</th>
            <th class="px-4 py-2 text-left">UOM</th>
            <th class="px-4 py-2 text-right">Current Qty</th>
            <th class="px-4 py-2 text-right">Add Qty</th>
          </tr>
        </thead>
        <tbody>
          {% for p in products %}
            <tr class="border-t">
              <td class="px-4 py-2">{{ p.name }}</td>
              <td class="px-4 py-2">{{ p.sku }}</td>
              <td class="px-4 py-2">{{ p.uom.symbol|default:p.uom.code }}</td>
              <td class="px-4 py-2 text-right">{{ p.stock_qty|floatformat:2 }}</td>
              <td class="px-4 py-2 text-right w-40">
                <input name="qty_{{ p.id }}" type="number" step="0.000001" min="0"
                       class="w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-right">
              </td>
            </tr>
          {% empty %}
            <tr><td colspan="5" class="px-4 py-6 text-center text-slate-500">No products.</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div>
      <button class="rounded-lg px-4 py-2 bg-slate-900 text-white hover:bg-slate-800">
        Save
      </button>
    </div>
  </form>
</div>
{% endblock %}
