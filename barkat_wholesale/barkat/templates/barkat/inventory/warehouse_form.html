{% extends "base.html" %}
{% load static %}
{% block title %}{% if mode == "edit" %}Edit Warehouse{% else %}New Warehouse{% endif %}{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto px-4 py-6">
  <div class="mb-4 flex items-center justify-between">
    <h1 class="text-xl font-semibold">
      {% if mode == "edit" %}Edit Warehouse{% else %}New Warehouse{% endif %}
    </h1>
    <a href="{% url 'warehouse_list' %}" class="text-slate-700 hover:underline">Back to list</a>
  </div>

  <form method="post" novalidate class="space-y-4 bg-white p-4 rounded-md border border-slate-200">
    {% csrf_token %}

    {% if form.non_field_errors %}
      <div class="rounded-md border border-red-300 bg-red-50 p-3 text-red-700 text-sm">
        {{ form.non_field_errors }}
      </div>
    {% endif %}

    <div>
      <label class="block text-sm font-medium text-slate-700">Name</label>
      {{ form.name }}
      {% for e in form.name.errors %}<p class="text-sm text-red-600">{{ e }}</p>{% endfor %}
    </div>

    <div>
      <label class="block text-sm font-medium text-slate-700">Code</label>
      {{ form.code }}
      {% for e in form.code.errors %}<p class="text-sm text-red-600">{{ e }}</p>{% endfor %}
    </div>

    <div>
      <label class="block text-sm font-medium text-slate-700">Address</label>
      {{ form.address }}
      {% for e in form.address.errors %}<p class="text-sm text-red-600">{{ e }}</p>{% endfor %}
    </div>

    <div class="flex items-center gap-2">
      {{ form.is_active }}
      <label class="text-sm text-slate-700">Active</label>
      {% for e in form.is_active.errors %}<p class="text-sm text-red-600">{{ e }}</p>{% endfor %}
    </div>

    <div class="pt-2">
      <button type="submit"
              class="inline-flex items-center rounded-lg bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700">
        {% if mode == "edit" %}Save Changes{% else %}Create Warehouse{% endif %}
      </button>
    </div>
  </form>
</div>
{% endblock %}
